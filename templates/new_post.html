{% extends "layout.html" %}
{% block body %}
<div class="container-fluid" id="new_post">
    <div class="row">
        <div class="col-md-12">
            <div class="card-deck mt-4">
                <div class="card border-0 shadow">
                    <div class="card-header border-0">
                        <h5 class="card-title" align=center>New Post</h5>
                    </div>
                    <div class="card-body">
                        <form id="new-post" action="/posts/new/{{ blog_id }}" method="post">
                            <div class="form-group">
                                <label for="title">Title</label>
                                <input type="text" id="title" class="form-control" name="title">
                            </div>
                            <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
                            <div class="form-group">
                                <label for="editor">Content</label>
                                <div id="editor"></div>
                            </div>
                            <div>
                                <label for="editor">HTML Preview</label>
                                <textarea id="content" class="form-control" name="content"></textarea>
                            </div>
                            <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
                            <script>
                                var toolbarOptions = [
                                    ['bold', 'italic', 'underline', 'strike'], // toggled buttons
                                    ['blockquote', 'code-block'],
                                    ['image'],
                                    [{
                                        'header': 1
                                    }, {
                                        'header': 2
                                    }], // custom button values
                                    [{
                                        'list': 'ordered'
                                    }, {
                                        'list': 'bullet'
                                    }],
                                    [{
                                        'script': 'sub'
                                    }, {
                                        'script': 'super'
                                    }], // superscript/subscript
                                    [{
                                        'indent': '-1'
                                    }, {
                                        'indent': '+1'
                                    }], // outdent/indent
                                    [{
                                        'direction': 'rtl'
                                    }], // text direction

                                    [{
                                        'size': ['small', false, 'large', 'huge']
                                    }], // custom dropdown
                                    [{
                                        'header': [1, 2, 3, 4, 5, 6, false]
                                    }],

                                    [{
                                        'color': []
                                    }, {
                                        'background': []
                                    }], // dropdown with defaults from theme
                                    [{
                                        'font': []
                                    }],
                                    [{
                                        'align': []
                                    }],

                                    ['clean'] // remove formatting button
                                ];
                                var quill = new Quill('#editor', {
                                    modules: {
                                        toolbar: toolbarOptions,
                                        imageResize: {
                                            displaySize: true
                                        },
                                    },
                                    theme: 'snow'
                                });

                                quill.on('text-change', function () {
                                    content.innerHTML = quill.root.innerHTML;
                                })
                            </script>
                            <style>
                                #editor {
                                    height: 50vh;
                                }
                            </style>
                            <br>
                            <button type="submit" class="btn btn-success"
                                style="--button-color: #ffffff; --button-background-color: #5fc530; --button-background-color-dark: #36920b;"
                                id="temp">Publish</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}